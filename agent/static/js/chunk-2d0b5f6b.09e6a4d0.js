(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b5f6b"],{"1aaf":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"pad_5"},[r("div",{staticClass:"query_fields pad_b_no handle_timerange"},[r("el-form",{ref:"queryForm",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.queryForm,size:"mini"}},[6==e.roleId?r("el-form-item",{attrs:{label:"机构名称",prop:"agentName","label-width":"68px"}},[r("el-input",{staticClass:"wid_140",attrs:{placeholder:"请输入机构名称"},model:{value:e.queryForm.agentName,callback:function(t){e.$set(e.queryForm,"agentName",t)},expression:"queryForm.agentName"}})],1):e._e(),e._v(" "),r("el-form-item",{attrs:{label:"用户ID",prop:"customid","label-width":"68px"}},[r("el-input",{staticClass:"wid_140",attrs:{placeholder:"请输入用户ID"},model:{value:e.queryForm.customid,callback:function(t){e.$set(e.queryForm,"customid",t)},expression:"queryForm.customid"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"向导姓名",prop:"name"}},[r("el-input",{staticClass:"wid_140",attrs:{placeholder:"请输入向导姓名"},model:{value:e.queryForm.name,callback:function(t){e.$set(e.queryForm,"name",t)},expression:"queryForm.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"向导ID",prop:"traveler_customid","label-width":"68px"}},[r("el-input",{staticClass:"wid_140",attrs:{placeholder:"请输入向导ID"},model:{value:e.queryForm.traveler_customid,callback:function(t){e.$set(e.queryForm,"traveler_customid",t)},expression:"queryForm.traveler_customid"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"出行项目",prop:"travel_projects","label-width":"68px"}},[r("el-select",{staticClass:"wid_140",attrs:{placeholder:"选选出行项目"},model:{value:e.queryForm.travel_projects,callback:function(t){e.$set(e.queryForm,"travel_projects",t)},expression:"queryForm.travel_projects"}},e._l(e.queryForm.travel_projectss,function(e,t){return r("el-option",{key:t,attrs:{label:e.txt,value:e.txt}})}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"出行时间",prop:"allTime"}},[r("el-date-picker",{attrs:{type:"daterange","value-format":"yyyy-MM-dd","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间"},model:{value:e.queryForm.allTime,callback:function(t){e.$set(e.queryForm,"allTime",t)},expression:"queryForm.allTime"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.queryData}},[e._v("查询")]),e._v(" "),r("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(t){return e.resetData("queryForm")}}},[e._v("重置")]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handle_refresh}},[e._v("刷新")])],1)],1)],1),e._v(" "),r("div",[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",stripe:""}},[r("el-table-column",{attrs:{prop:"customid",label:"用户ID",width:""}}),e._v(" "),r("el-table-column",{attrs:{prop:"custom_name",label:"用户姓名",width:"78px"}}),e._v(" "),r("el-table-column",{attrs:{prop:"custom_phone",label:"用户电话",width:"110px"}}),e._v(" "),r("el-table-column",{attrs:{prop:"travel_projects",label:"出行项目",width:"78px"}}),e._v(" "),r("el-table-column",{attrs:{prop:"meet_address","show-overflow-tooltip":"",label:"集合地点",width:""}}),e._v(" "),r("el-table-column",{attrs:{prop:"traveler_customid",label:"向导ID",width:"80px"}}),e._v(" "),r("el-table-column",{attrs:{prop:"name",label:"向导姓名",width:"78px"}}),e._v(" "),10!=e.roleId?r("el-table-column",{attrs:{prop:"agentName","show-overflow-tooltip":!0,label:"所属机构",width:""}}):e._e(),e._v(" "),r("el-table-column",{attrs:{prop:"travel_time",label:"出行日期","show-overflow-tooltip":!0,width:""}}),e._v(" "),r("el-table-column",{attrs:{prop:"",label:"订单状态",width:""},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.order_status?r("span",[e._v("下单")]):1==t.row.order_status?r("span",[e._v("订单完成")]):2==t.row.order_status?r("span",[e._v("待支付")]):3==t.row.order_status?r("span",[e._v("支付成功")]):4==t.row.order_status?r("span",[e._v("订单确认")]):5==t.row.order_status?r("span",[e._v("订单取消")]):6==t.row.order_status?r("span",[e._v("订单取消已退款")]):7==t.row.order_status?r("span",[e._v("订单")]):e._e()]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"custom_evaluate","show-overflow-tooltip":"",label:"对用户评价",width:""}})],1),e._v(" "),r("div",{staticClass:"block mar_t10"},[r("el-pagination",{attrs:{"current-page":e.currentPage,total:e.pageTotal,background:"",layout:"total, prev, pager, next, jumper"},on:{"current-change":e.handleCurrentChange}})],1)],1)])},l=[],s=(r("7f7f"),r("cf45")),o={name:"travelOrder",data:function(){return{roleId:"",_signInUserId:"",tableLoading:!1,tableData:[],pageTotal:0,currentPage:1,queryForm:{agentName:"",name:"",customid:"",allTime:"",startTime:"",endTime:"",travel_projectss:[{id:1,txt:"晨光出行"},{id:2,txt:"暖阳午后"},{id:3,txt:"星空夜景"}],travel_projects:"",traveler_customid:""}}},created:function(){this.roleId=this.$store.getters.roleId,this._signInUserId=this.transformSignInUserId(),this.getTabelDataList(1)},methods:{transformSignInUserId:function(){return 11==this.$store.getters.roleId?this.$store.getters.up_userId:this.$store.getters.userId},getTabelDataList:function(e){var t=this,r={data:{signInUserId:this._signInUserId,signInRoleId:this.$store.getters.roleId,pageNum:e,pageSize:10,agentName:this.queryForm.agentName,customid:this.queryForm.customid,traveler_customid:this.queryForm.traveler_customid,name:this.queryForm.name,travel_projects:this.queryForm.travel_projects,startTime:this.queryForm.startTime,endTime:this.queryForm.endTime}};this.tableLoading=!0,this.$http.post("".concat(s["a"].baseUrl,"/customOrder/getCustomOrder"),r).then(function(e){"0000"==e.data.code&&(t.tableData=e.data.data.customOrderList,t.pageTotal=e.data.data.page.pageTotal,t.tableLoading=!1)}).catch(function(e){})},queryData:function(){this.queryForm.startTime=this.queryForm.allTime[0],this.queryForm.endTime=this.queryForm.allTime[1],this.getTabelDataList(1),this.currentPage=1},handle_refresh:function(){this.getTabelDataList(this.currentPage)},resetData:function(e){this.$refs[e].resetFields(),this.queryForm.startTime="",this.queryForm.endTime=""},handleCurrentChange:function(e){this.currentPage=e,this.getTabelDataList(e)}}},i=o,n=r("2877"),u=Object(n["a"])(i,a,l,!1,null,null,null);t["default"]=u.exports}}]);