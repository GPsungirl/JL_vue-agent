(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b92b2"],{3296:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pad_5"},[a("div",{staticClass:"query_fields pad_b_no handle_timerange"},[a("el-form",{ref:"queryForm",staticClass:"demo-form-inline",attrs:{inline:!0,model:t.queryForm,size:"mini"}},[a("el-form-item",{attrs:{label:"收益类型",prop:"virtual_class","label-width":"68px"}},[a("el-select",{staticClass:"wid_140",attrs:{placeholder:"请选择收益类型"},model:{value:t.queryForm.virtual_class,callback:function(e){t.$set(t.queryForm,"virtual_class",e)},expression:"queryForm.virtual_class"}},t._l(t.queryForm.virtual_classs,function(t,e){return a("el-option",{key:e,attrs:{label:t.value,value:t.id}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"所属机构",prop:"area_agent_name","label-width":"68px"}},[a("el-input",{staticClass:"wid_140",attrs:{placeholder:"请输入所属区级机构"},model:{value:t.queryForm.area_agent_name,callback:function(e){t.$set(t.queryForm,"area_agent_name",e)},expression:"queryForm.area_agent_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"向导姓名",prop:"custom_name","label-width":"68px"}},[a("el-input",{staticClass:"wid_140",attrs:{placeholder:"请输入向导姓名"},model:{value:t.queryForm.custom_name,callback:function(e){t.$set(t.queryForm,"custom_name",e)},expression:"queryForm.custom_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"向导ID",prop:"customid","label-width":"68px"}},[a("el-input",{staticClass:"wid_140",attrs:{placeholder:"请输入向导ID"},model:{value:t.queryForm.customid,callback:function(e){t.$set(t.queryForm,"customid",e)},expression:"queryForm.customid"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"上级ID",prop:"up_customid","label-width":"68px"}},[a("el-input",{staticClass:"wid_140",attrs:{placeholder:"请输入上级ID"},model:{value:t.queryForm.up_customid,callback:function(e){t.$set(t.queryForm,"up_customid",e)},expression:"queryForm.up_customid"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"上级姓名",prop:"up_custom_name","label-width":"68px"}},[a("el-input",{staticClass:"wid_140",attrs:{placeholder:"请输入上级姓名"},model:{value:t.queryForm.up_custom_name,callback:function(e){t.$set(t.queryForm,"up_custom_name",e)},expression:"queryForm.up_custom_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"入账状态",prop:"virtual_profit_cityagent_status","label-width":"68px"}},[a("el-select",{staticClass:"wid_140",attrs:{placeholder:"请选择入账状态"},model:{value:t.queryForm.virtual_profit_cityagent_status,callback:function(e){t.$set(t.queryForm,"virtual_profit_cityagent_status",e)},expression:"queryForm.virtual_profit_cityagent_status"}},t._l(t.queryForm.virtual_profit_cityagent_statuss,function(t,e){return a("el-option",{key:e,attrs:{label:t.value,value:t.id}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"收益时间",prop:"allTime"}},[a("el-date-picker",{attrs:{type:"daterange","value-format":"yyyy-MM-dd","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间"},model:{value:t.queryForm.allTime,callback:function(e){t.$set(t.queryForm,"allTime",e)},expression:"queryForm.allTime"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.queryData}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(e){return t.resetData("queryForm")}}},[t._v("重置")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.handle_refresh}},[t._v("刷新")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.exportData}},[t._v("导出数据")])],1)],1)],1),t._v(" "),a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"",stripe:""}},[a("el-table-column",{attrs:{prop:"",label:"收益类型",width:""},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.virtual_class?a("span",[t._v("礼物")]):2==e.row.virtual_class?a("span",[t._v("红包")]):8==e.row.virtual_class?a("span",[t._v("预约上线")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"virtual_name",label:"订单信息",width:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"giftPrice",label:"礼物单价(贝壳)",width:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"virtual_gift_num",label:"数量",width:"50px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"totalPrice",label:"总价(贝壳)",width:"60px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"customid",label:"向导ID",width:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"custom_name",label:"向导姓名",width:"78px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"up_customid",label:"上级ID",width:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"up_custom_name",label:"上级姓名",width:""}}),t._v(" "),10!=t.roleId?a("el-table-column",{attrs:{prop:"area_agent_name",label:"所属机构",width:""}}):t._e(),t._v(" "),a("el-table-column",{attrs:{prop:"upAmount",label:"上级分成",width:"50px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"customAmount",label:"向导分成",width:"50px"}}),t._v(" "),6==t.roleId?a("el-table-column",{attrs:{prop:"cityAmount",label:"市机构分成",width:"65px"}}):t._e(),t._v(" "),a("el-table-column",{attrs:{prop:"areaAmount",label:"区机构分成",width:"65px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createtime","show-overflow-tooltip":"",label:"订单时间",width:""}})],1),t._v(" "),a("div",{staticClass:"block mar_t10"},[a("el-pagination",{attrs:{"current-page":t.currentPage,total:t.pageTotal,background:"",layout:"total, prev, pager, next, jumper"},on:{"current-change":t.handleCurrentChange}})],1)],1)])},l=[],s=a("cf45"),i={name:"virtualProfit",data:function(){return{roleId:"",tableLoading:!1,tableData:[],pageTotal:100,currentPage:1,queryForm:{virtual_classs:[{id:1,value:"礼物"},{id:2,value:"红包"}],virtual_class:"",area_agent_name:"",customid:"",custom_name:"",up_customid:"",up_custom_name:"",allTime:"",endTime:"",startTime:"",virtual_profit_cityagent_statuss:[{id:1,value:"入账完成"},{id:2,value:"入账失败"},{id:3,value:"待入账"},{id:4,value:"入帐中"},{id:5,value:"作废"}],virtual_profit_cityagent_status:""}}},created:function(){this.roleId=this.$store.getters.roleId,this.getTabelDataList(1)},methods:{getTabelDataList:function(t){var e=this,a={data:{signInUserId:this.$store.getters.userId,signInRoleId:this.$store.getters.roleId,pageNum:t,pageSize:10,virtual_class:this.queryForm.virtual_class,area_agent_name:this.queryForm.area_agent_name,up_customid:this.queryForm.up_customid,up_custom_name:this.queryForm.up_custom_name,custom_name:this.queryForm.custom_name,customid:this.queryForm.customid,travel_projects:this.queryForm.travel_projects,startTime:this.queryForm.startTime,endTime:this.queryForm.endTime,virtual_profit_cityagent_status:this.queryForm.virtual_profit_cityagent_status}};this.tableLoading=!0,this.$http.post("".concat(s["a"].baseUrl,"/virtualProfit/selectVirtualProfit"),a).then(function(t){"0000"==t.data.code&&(e.tableData=t.data.data.virtualProfitList,e.pageTotal=t.data.data.page.pageTotal,e.tableLoading=!1)}).catch(function(t){})},handle_refresh:function(){this.getTabelDataList(this.currentPage)},exportData:function(){var t=this,e={data:{signInUserId:this.$store.getters.userId,signInRoleId:this.$store.getters.roleId,virtual_class:this.queryForm.virtual_class,city_agent_name:this.queryForm.city_agent_name,customid:this.queryForm.customid,startTime:this.queryForm.startTime,endTime:this.queryForm.endTime}};this.$http.post("".concat(s["a"].baseUrl,"/virtualProfit/exportVirtualProfit"),e).then(function(e){"0000"==e.data.code&&t.m_message(e.data.msg,"success")}).catch(function(t){})},queryData:function(){this.queryForm.allTime.length>0&&(this.queryForm.startTime=this.queryForm.allTime[0],this.queryForm.endTime=this.queryForm.allTime[1]),this.getTabelDataList(1),this.currentPage=1},resetData:function(t){this.$refs[t].resetFields(),this.queryForm.startTime="",this.queryForm.endTime=""},handleCurrentChange:function(t){this.currentPage=t,this.getTabelDataList(t)},m_message:function(t,e){this.$message({message:t,type:e})}}},o=i,u=a("2877"),n=Object(u["a"])(o,r,l,!1,null,null,null);e["default"]=n.exports}}]);